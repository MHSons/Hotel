<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Report | AlphaMed</title>
<style>body{font-family:Arial,Helvetica,sans-serif;margin:0;background:#fff} .page{max-width:800px;margin:20px auto;padding:40px;border:1px solid #ddd;border-radius:10px;position:relative;overflow:hidden} .watermark{position:absolute;top:0;left:0;width:100%;height:100%;background:url('logo.png') center center no-repeat;background-size:400px;opacity:0.06;z-index:0} .header{text-align:center;border-bottom:2px solid #1e3a8a;padding-bottom:10px;margin-bottom:15px;position:relative;z-index:2} th,td{padding:8px;border-bottom:1px solid #eee;text-align:left} th{background:#f3f4f6;color:#1e3a8a}</style></head><body>
<div class="page"><div class="watermark"></div><div class="header"><h1 style="color:#1e3a8a;margin:0">AlphaMed Clinical Laboratory</h1><p style="margin:4px 0;color:#555">Email: amcl@gmail.com | WhatsApp: 0339-8067880</p></div>
<div id="patientInfo"></div>
<table id="reportTable" style="width:100%;border-collapse:collapse"><thead><tr><th>Test Name</th><th>Result</th><th>Unit</th><th>Normal Range</th><th>Indicator</th></tr></thead><tbody></tbody></table>
<div id="qrcode" style="margin-top:12px"></div>
<div style="text-align:center;margin-top:18px"><button onclick="window.print()" style="background:#2563eb;color:#fff;padding:8px 12px;border:none;border-radius:6px;cursor:pointer">Print</button>&nbsp;<a href="dashboard.html" style="margin-left:8px">Back to Dashboard</a></div></div>
<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
<script>
const reports=JSON.parse(localStorage.getItem('reports')||'[]'); const lastId=localStorage.getItem('lastReportId'); const report=reports.find(r=>r.report_id===lastId); if(!report){ alert('No report found'); window.location='dashboard.html' } else { document.getElementById('patientInfo').innerHTML=`<div><strong>Patient:</strong> ${report.patient_name}</div><div><strong>Code:</strong> ${report.patient_code}</div><div><strong>Dept:</strong> ${report.department}</div><div><strong>Report ID:</strong> ${report.report_id}</div><div style="margin-bottom:8px"><strong>Date:</strong> ${new Date(report.date).toLocaleString()}</div>`; const tbody=document.querySelector('#reportTable tbody'); report.results.forEach(r=>{ const tr=document.createElement('tr'); const color=(r.indicator==='High'||r.indicator==='Low')?'red':'green'; tr.innerHTML=`<td>${r.test}</td><td>${r.result}</td><td>${r.unit}</td><td>${r.range}</td><td style="color:${color};font-weight:600">${r.indicator}</td>`; tbody.appendChild(tr); }); const qrData=`AlphaMed Report|${report.report_id}|${report.patient_name}`; new QRCode(document.getElementById('qrcode'),{text:qrData,width:100,height:100}); setTimeout(()=>window.print(),1200); }
</script>
<script src="app.js"></script>
</body></html>
